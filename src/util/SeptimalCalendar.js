import Calendar from './Calendar.js';

const leapYears = [	// TODO: 修改实现
1,
3,
5,
7,
9,
12,
14,
16,
18,
20,
23,
25,
27,
29,
31,
34,
36,
38,
40,
42,
45,
47,
49,
51,
53,
56,
58,
60,
62,
64,
67,
69,
71,
73,
75,
78,
80,
82,
84,
86,
89,
91,
93,
95,
97,
100,
102,
104,
106,
108,
111,
113,
115,
117,
119,
122,
124,
126,
128,
131,
133,
135,
137,
139,
142,
144,
146,
148,
150,
153,
155,
157,
159,
161,
164,
166,
168,
170,
172,
175,
177,
179,
181,
183,
186,
188,
190,
192,
194,
197,
199,
201,
203,
205,
208,
210,
212,
214,
216,
219,
221,
223,
225,
227,
230,
232,
234,
236,
238,
241,
243,
245,
247,
249,
252,
254,
256,
258,
260,
263,
265,
267,
269,
271,
274,
276,
278,
280,
283,
285,
287,
289,
291,
294,
296,
298,
300,
302,
305,
307,
309,
311,
313,
316,
318,
320,
322,
324,
327,
329,
331,
333,
335,
338,
340,
342,
344,
346,
349,
351,
353,
355,
357,
360,
362,
364,
366,
368,
371,
373,
375,
377,
379,
382,
384,
386,
388,
390,
393,
395,
397,
399,
401,
404,
406,
408,
410,
412,
415,
417,
419,
421,
424,
426,
428,
430,
432,
435,
437,
439,
441,
443,
446,
448,
450,
452,
454,
457,
459,
461,
463,
465,
468,
470,
472,
474,
476,
479,
481,
483,
485,
487,
490,
492,
494,
496,
498,
501,
503,
505,
507,
509,
512,
514,
516,
518,
520,
523,
525,
527,
529,
531,
534,
536,
538,
540,
542,
545,
547,
549,
551,
553,
556,
558,
560,
562,
564,
567,
569,
571,
573,
576,
578,
580,
582,
584,
587,
589,
591,
593,
595,
598,
600,
602,
604,
606,
609,
611,
613,
615,
617,
620,
622,
624,
626,
628,
631,
633,
635,
637,
639,
642,
644,
646,
648,
650,
653,
655,
657,
659,
661,
664,
666,
668,
670,
672,
675,
677,
679,
681,
683,
686,
688,
690,
692,
694,
697,
699,
701,
703,
705,
708,
710,
712,
714,
716,
719,
721,
723,
725,
728,
730,
732,
734,
736,
739,
741,
743,
745,
747,
750,
752,
754,
756,
758,
761,
763,
765,
767,
769,
772,
774,
776,
778,
780,
783,
785,
787,
789,
791,
794,
796,
798,
800,
802,
805,
807,
809,
811,
813,
816,
818,
820,
822,
824,
827,
829,
831,
833,
835,
838,
840,
842,
844,
846,
849,
851,
853,
855,
857,
860,
862,
864,
866,
868,
871,
873,
875,
877,
880,
882,
884,
886,
888,
891,
893,
895,
897,
899,
902,
904,
906,
908,
910,
913,
915,
917,
919,
921,
924,
926,
928,
930,
932,
935,
937,
939,
941,
943,
946,
948,
950,
952,
954,
957,
959,
961,
963,
965,
968,
970,
972,
974,
976,
979,
981,
983,
985,
987,
990,
992,
994,
996,
998,
1001,
1003,
1005,
1007,
1009,
1012,
1014,
1016,
1018,
1020,
1023,
1025,
1027,
1029,
1032,
1034,
1036,
1038,
1040,
1043,
1045,
1047,
1049,
1051,
1054,
1056,
1058,
1060,
1062,
1065,
1067,
1069,
1071,
1073,
1076,
1078,
1080,
1082,
1084,
1087,
1089,
1091,
1093,
1095,
1098,
1100,
1102,
1104,
1106,
1109,
1111,
1113,
1115,
1117,
1120,
1122,
1124,
1126,
1128,
1131,
1133,
1135,
1137,
1139,
1142,
1144,
1146,
1148,
1150,
1153,
1155,
1157,
1159,
1161,
1164,
1166,
1168,
1170,
1172,
1175,
1177,
1179,
1181,
1184,
1186,
1188,
1190,
1192,
1195,
1197,
1199,
1201,
1203,
1206,
1208,
1210,
1212,
1214,
1217,
1219,
1221,
1223,
1225,
1228,
1230,
1232,
1234,
1236,
1239,
1241,
1243,
1245,
1247,
1250,
1252,
1254,
1256,
1258,
1261,
1263,
1265,
1267,
1269,
1272,
1274,
1276,
1278,
1280,
1283,
1285,
1287,
1289,
1291,
1294,
1296,
1298,
1300,
1302,
1305,
1307,
1309,
1311,
1313,
1316,
1318,
1320,
1322,
1324,
1327,
1329,
1331,
1333,
1336,
1338,
1340,
1342,
1344,
1347,
1349,
1351,
1353,
1355,
1358,
1360,
1362,
1364,
1366,
1369,
1371,
1373,
1375,
1377,
1380,
1382,
1384,
1386,
1388,
1391,
1393,
1395,
1397,
1399,
1402,
1404,
1406,
1408,
1410,
1413,
1415,
1417,
1419,
1421,
1424,
1426,
1428,
1430,
1432,
1435,
1437,
1439,
1441,
1443,
1446,
1448,
1450,
1452,
1454,
1457,
1459,
1461,
1463,
1465,
1468,
1470,
1472,
1474,
1477,
1479,
1481,
1483,
1485,
1488,
1490,
1492,
1494,
1496,
1499,
1501,
1503,
1505,
1507,
1510,
1512,
1514,
1516,
1518,
1521,
1523,
1525,
1527,
1529,
1532,
1534,
1536,
1538,
1540,
1543,
1545,
1547,
1549,
1551,
1554,
1556,
1558,
1560,
1562,
1565,
1567,
1569,
1571,
1573,
1576,
1578,
1580,
1582,
1584,
1587,
1589,
1591,
1593,
1595,
1598,
1600,
1602,
1604,
1606,
1609,
1611,
1613,
1615,
1617,
1620,
1622,
1624,
1626,
1629,
1631,
1633,
1635,
1637,
1640,
1642,
1644,
1646,
1648,
1651,
1653,
1655,
1657,
1659,
1662,
1664,
1666,
1668,
1670,
1673,
1675,
1677,
1679,
1681,
1684,
1686,
1688,
1690,
1692,
1695,
1697,
1699,
1701,
1703,
1706,
1708,
1710,
1712,
1714,
1717,
1719,
1721,
1723,
1725,
1728,
1730,
1732,
1734,
1736,
1739,
1741,
1743,
1745,
1747,
1750,
1752,
1754,
1756,
1758,
1761,
1763,
1765,
1767,
1769,
1772,
1774,
1776,
1778,
1781,
1783,
1785,
1787,
1789,
1792,
1794,
1796,
1798,
1800,
1803,
1805,
1807,
1809,
1811,
1814,
1816,
1818,
1820,
1822,
1825,
1827,
1829,
1831,
1833,
1836,
1838,
1840,
1842,
1844,
1847,
1849,
1851,
1853,
1855,
1858,
1860,
1862,
1864,
1866,
1869,
1871,
1873,
1875,
1877,
1880,
1882,
1884,
1886,
1888,
1891,
1893,
1895,
1897,
1899,
1902,
1904,
1906,
1908,
1910,
1913,
1915,
1917,
1919,
1921,
1924,
1926,
1928,
1930,
1933,
1935,
1937,
1939,
1941,
1944,
1946,
1948,
1950,
1952,
1955,
1957,
1959,
1961,
1963,
1966,
1968,
1970,
1972,
1974,
1977,
1979,
1981,
1983,
1985,
1988,
1990,
1992,
1994,
1996,
1999,
2001,
2003,
2005,
2007,
2010,
2012,
2014,
2016,
2018,
2021,
2023,
2025,
2027,
2029,
2032,
2034,
2036,
2038,
2040,
2043,
2045,
2047,
2049,
2051,
2054,
2056,
2058,
2060,
2062,
2065,
2067,
2069,
2071,
2073,
2076,
2078,
2080,
2082,
2085,
2087,
2089,
2091,
2093,
2096,
2098,
2100,
2102,
2104,
2107,
2109,
2111,
2113,
2115,
2118,
2120,
2122,
2124,
2126,
2129,
2131,
2133,
2135,
2137,
2140,
2142,
2144,
2146,
2148,
2151,
2153,
2155,
2157,
2159,
2162,
2164,
2166,
2168,
2170,
2173,
2175,
2177,
2179,
2181,
2184,
2186,
2188,
2190,
2192,
2195,
2197,
2199,
2201,
2203,
2206,
2208,
2210,
2212,
2214,
2217,
2219,
2221,
2223,
2225,
2228,
2230,
2232,
2234,
2237,
2239,
2241,
2243,
2245,
2248,
2250,
2252,
2254,
2256,
2259,
2261,
2263,
2265,
2267,
2270,
2272,
2274,
2276,
2278,
2281,
2283,
2285,
2287,
2289,
2292,
2294,
2296,
2298,
2300,
2303,
2305,
2307,
2309,
2311,
2314,
2316,
2318,
2320,
2322,
2325,
2327,
2329,
2331,
2333,
2336,
2338,
2340,
2342,
2344,
2347,
2349,
2351,
2353,
2355,
2358,
2360,
2362,
2364,
2366,
2369,
2371,
2373,
2375,
2378,
2380,
2382,
2384,
2386,
2389,
2391,
2393,
2395,
2397,
2400,
2402,
2404,
2406,
2408,
2411,
2413,
2415,
2417,
2419,
2422,
2424,
2426,
2428,
2430,
2433,
2435,
2437,
2439,
2441,
2444,
2446,
2448,
2450,
2452,
2455,
2457,
2459,
2461,
2463,
2466,
2468,
2470,
2472,
2474,
2477,
2479,
2481,
2483,
2485,
2488,
2490,
2492,
2494,
2496,
2499,
2501,
2503,
2505,
2507,
2510,
2512,
2514,
2516,
2518,
2521,
2523,
2525,
2527,
2530,
2532,
2534,
2536,
2538,
2541,
2543,
2545,
2547,
2549,
2552,
2554,
2556,
2558,
2560,
2563,
2565,
2567,
2569,
2571,
2574,
2576,
2578,
2580,
2582,
2585,
2587,
2589,
2591,
2593,
2596,
2598,
2600,
2602,
2604,
2607,
2609,
2611,
2613,
2615,
2618,
2620,
2622,
2624,
2626,
2629,
2631,
2633,
2635,
2637,
2640,
2642,
2644,
2646,
2648,
2651,
2653,
2655,
2657,
2659,
2662,
2664,
2666,
2668,
2670,
2673,
2675,
2677,
2679,
2682,
2684,
2686,
2688,
2690,
2693,
2695,
2697,
2699,
2701,
2704,
2706,
2708,
2710,
2712,
2715,
2717,
2719,
2721,
2723,
2726,
2728,
2730,
2732,
2734,
2737,
2739,
2741,
2743,
2745,
2748,
2750,
2752,
2754,
2756,
2759,
2761,
2763,
2765,
2767,
2770,
2772,
2774,
2776,
2778,
2781,
2783,
2785,
2787,
2789,
2792,
2794,
2796,
2798,
2800,
2803,
2805,
2807,
2809,
2811,
2814,
2816,
2818,
2820,
2822,
2825,
2827,
2829,
2831,
2834,
2836,
2838,
2840,
2842,
2845,
2847,
2849,
2851,
2853,
2856,
2858,
2860,
2862,
2864,
2867,
2869,
2871,
2873,
2875,
2878,
2880,
2882,
2884,
2886,
2889,
2891,
2893,
2895,
2897,
2900,
2902,
2904,
2906,
2908,
2911,
2913,
2915,
2917,
2919,
2922,
2924,
2926,
2928,
2930,
2933,
2935,
2937,
2939,
2941,
2944,
2946,
2948,
2950,
2952,
2955,
2957,
2959,
2961,
2963,
2966,
2968,
2970,
2972,
2974,
2977,
2979,
2981,
2983,
2986,
2988,
2990,
2992,
2994,
2997,
2999,
3001,
3003,
3005,
3008,
3010,
3012,
3014,
3016,
3019,
3021,
3023,
3025,
3027,
3030,
3032,
3034,
3036,
3038,
3041,
3043,
3045,
3047,
3049,
3052,
3054,
3056,
3058,
3060,
3063,
3065,
3067,
3069,
3071,
3074,
3076,
3078,
3080,
3082,
3085,
3087,
3089,
3091,
3093,
3096,
3098,
3100,
3102,
3104,
3107,
3109,
3111,
3113,
3115,
3118,
3120,
3122,
3124,
3127,
3129,
3131,
3133,
3135,
3138,
3140,
3142,
3144,
3146,
3149,
3151,
3153,
3155,
3157,
3160,
3162,
3164,
3166,
3168,
3171,
3173,
3175,
3177,
3179,
3182,
3184,
3186,
3188,
3190,
3193,
3195,
3197,
3199,
3201,
3204,
3206,
3208,
3210,
3212,
3215,
3217,
3219,
3221,
3223,
3226,
3228,
3230,
3232,
3234,
3237,
3239,
3241,
3243,
3245,
3248,
3250,
3252,
3254,
3256,
3259,
3261,
3263,
3265,
3267,
3270,
3272,
3274,
3276,
3279,
3281,
3283,
3285,
3287,
3290,
3292,
3294,
3296,
3298,
3301,
3303,
3305,
3307,
3309,
3312,
3314,
3316,
3318,
3320,
3323,
3325,
3327,
3329,
3331,
3334,
3336,
3338,
3340,
3342,
3345,
3347,
3349,
3351,
3353,
3356,
3358,
3360,
3362,
3364,
3367,
3369,
3371,
3373,
3375,
3378,
3380,
3382,
3384,
3386,
3389,
3391,
3393,
3395,
3397,
3400,
3402,
3404,
3406,
3408,
3411,
3413,
3415,
3417,
3419,
3422,
3424,
3426,
3428,
3431,
3433,
3435,
3437,
3439,
3442,
3444,
3446,
3448,
3450,
3453,
3455,
3457,
3459,
3461,
3464,
3466,
3468,
3470,
3472,
3475,
3477,
3479,
3481,
3483,
3486,
3488,
3490,
3492,
3494,
3497,
3499,
3501,
3503,
3505,
3508,
3510,
3512,
3514,
3516,
3519,
3521,
3523,
3525,
3527,
3530,
3532,
3534,
3536,
3538,
3541,
3543,
3545,
3547,
3549,
3552,
3554,
3556,
3558,
3560,
3563,
3565,
3567,
3569,
3571,
3574,
3576,
3578,
3580,
3583,
3585,
3587,
3589,
3591,
3594,
3596,
3598,
3600,
3602,
3605,
3607,
3609,
3611,
3613,
3616,
3618,
3620,
3622,
3624,
3627,
3629,
3631,
3633,
3635,
3638,
3640,
3642,
3644,
3646,
3649,
3651,
3653,
3655,
3657,
3660,
3662,
3664,
3666,
3668,
3671,
3673,
3675,
3677,
3679,
3682,
3684,
3686,
3688,
3690,
3693,
3695,
3697,
3699,
3701,
3704,
3706,
3708,
3710,
3712,
3715,
3717,
3719,
3721,
3723,
3726,
3728,
3730,
3732,
3735,
3737,
3739,
3741,
3743,
3746,
3748,
3750,
3752,
3754,
3757,
3759,
3761,
3763,
3765,
3768,
3770,
3772,
3774,
3776,
3779,
3781,
3783,
3785,
3787,
3790,
3792,
3794,
3796,
3798,
3801,
3803,
3805,
3807,
3809,
3812,
3814,
3816,
3818,
3820,
3823,
3825,
3827,
3829,
3831,
3834,
3836,
3838,
3840,
3842,
3845,
3847,
3849,
3851,
3853,
3856,
3858,
3860,
3862,
3864,
3867,
3869,
3871,
3873,
3876,
3878,
3880,
3882,
3884,
3887,
3889,
3891,
3893,
3895,
3898,
3900,
3902,
3904,
3906,
3909,
3911,
3913,
3915,
3917,
3920,
3922,
3924,
3926,
3928,
3931,
3933,
3935,
3937,
3939,
3942,
3944,
3946,
3948,
3950,
3953,
3955,
3957,
3959,
3961,
3964,
3966,
3968,
3970,
3972,
3975,
3977,
3979,
3981,
3983,
3986,
3988,
3990,
3992,
3994,
3997,
3999,
4001,
4003,
4005,
4008,
4010,
4012,
4014,
4016,
4019,
4021,
4023,
4025,
4028,
4030,
4032,
4034,
4036,
4039,
4041,
4043,
4045,
4047,
4050,
4052,
4054,
4056,
4058,
4061,
4063,
4065,
4067,
4069,
4072,
4074,
4076,
4078,
4080,
4083,
4085,
4087,
4089,
4091,
4094,
4096,
4098,
4100,
4102,
4105,
4107,
4109,
4111,
4113,
4116,
4118,
4120,
4122,
4124,
4127,
4129,
4131,
4133,
4135,
4138,
4140,
4142,
4144,
4146,
4149,
4151,
4153,
4155,
4157,
4160,
4162,
4164,
4166,
4168,
4171,
4173,
4175,
4177,
4180,
4182,
4184,
4186,
4188,
4191,
4193,
4195,
4197,
4199,
4202,
4204,
4206,
4208,
4210,
4213,
4215,
4217,
4219,
4221,
4224,
4226,
4228,
4230,
4232,
4235,
4237,
4239,
4241,
4243,
4246,
4248,
4250,
4252,
4254,
4257,
4259,
4261,
4263,
4265,
4268,
4270,
4272,
4274,
4276,
4279,
4281,
4283,
4285,
4287,
4290,
4292,
4294,
4296,
4298,
4301,
4303,
4305,
4307,
4309,
4312,
4314,
4316,
4318,
4321,
4323,
4325,
4327,
4329,
4332,
4334,
4336,
4338,
4340,
4343,
4345,
4347,
4349,
4351,
4354,
4356,
4358,
4360,
4362,
4365,
4367,
4369,
4371,
4373,
4376,
4378,
4380,
4382,
4384,
4387,
4389,
4391,
4393,
4395,
4398,
4400,
4402,
4404,
4406,
4409,
4411,
4413,
4415,
4417,
4420,
4422,
4424,
4426,
4428,
4431,
4433,
4435,
4437,
4439,
4442,
4444,
4446,
4448,
4450,
4453,
4455,
4457,
4459,
4461,
4464,
4466,
4468,
4470,
4473,
4475,
4477,
4479,
4481,
4484,
4486,
4488,
4490,
4492,
4495,
4497,
4499,
4501,
4503,
4506,
4508,
4510,
4512,
4514,
4517,
4519,
4521,
4523,
4525,
4528,
4530,
4532,
4534,
4536,
4539,
4541,
4543,
4545,
4547,
4550,
4552,
4554,
4556,
4558,
4561,
4563,
4565,
4567,
4569,
4572,
4574,
4576,
4578,
4580,
4583,
4585,
4587,
4589,
4591,
4594,
4596,
4598,
4600,
4602,
4605,
4607,
4609,
4611,
4613,
4616,
4618,
4620,
4622,
4625,
4627,
4629,
4631,
4633,
4636,
4638,
4640,
4642,
4644,
4647,
4649,
4651,
4653,
4655,
4658,
4660,
4662,
4664,
4666,
4669,
4671,
4673,
4675,
4677,
4680,
4682,
4684,
4686,
4688,
4691,
4693,
4695,
4697,
4699,
4702,
4704,
4706,
4708,
4710,
4713,
4715,
4717,
4719,
4721,
4724,
4726,
4728,
4730,
4732,
4735,
4737,
4739,
4741,
4743,
4746,
4748,
4750,
4752,
4754,
4757,
4759,
4761,
4763,
4765,
4768,
4770,
4772,
4774,
4777,
4779,
4781,
4783,
4785,
4788,
4790,
4792,
4794,
4796,
4799,
4801,
4803,
4805,
4807,
4810,
4812,
4814,
4816,
4818,
4821,
4823,
4825,
4827,
4829,
4832,
4834,
4836,
4838,
4840,
4843,
4845,
4847,
4849,
4851,
4854,
4856,
4858,
4860,
4862,
4865,
4867,
4869,
4871,
4873,
4876,
4878,
4880,
4882,
4884,
4887,
4889,
4891,
4893,
4895,
4898,
4900,
4902,
4904,
4906,
4909,
4911,
4913,
4915,
4918,
4920,
4922,
4924,
4926,
4929,
4931,
4933,
4935,
4937,
4940,
4942,
4944,
4946,
4948,
4951,
4953,
4955,
4957,
4959,
4962,
4964,
4966,
4968,
4970,
4973,
4975,
4977,
4979,
4981,
4984,
4986,
4988,
4990,
4992,
4995,
4997,
4999,
5001,
5003,
5006,
5008,
5010,
5012,
5014,
5017,
5019,
5021,
5023,
5025,
5028,
5030,
5032,
5034,
5036,
5039,
5041,
5043,
5045,
5047,
5050,
5052,
5054,
5056,
5058,
5061,
5063,
5065,
5067,
5070,
5072,
5074,
5076,
5078,
5081,
5083,
5085,
5087,
5089,
5092,
5094,
5096,
5098,
5100,
5103,
5105,
5107,
5109,
5111,
5114,
5116,
5118,
5120,
5122,
5125,
5127,
5129,
5131,
5133,
5136,
5138,
5140,
5142,
5144,
5147,
5149,
5151,
5153,
5155,
5158,
5160,
5162,
5164,
5166,
5169,
5171,
5173,
5175,
5177,
5180,
5182,
5184,
5186,
5188,
5191,
5193,
5195,
5197,
5199,
5202,
5204,
5206,
5208,
5211,
5213,
5215,
5217,
5219,
5222,
5224,
5226,
5228,
5230,
5233,
5235,
5237,
5239,
5241,
5244,
5246,
5248,
5250,
5252,
5255,
5257,
5259,
5261,
5263,
5266,
5268,
5270,
5272,
5274,
5277,
5279,
5281,
5283,
5285,
5288,
5290,
5292,
5294,
5296,
5299,
5301,
5303,
5305,
5307,
5310,
5312,
5314,
5316,
5318,
5321,
5323,
5325,
5327,
5329,
5332,
5334,
5336,
5338,
5340,
5343,
5345,
5347,
5349,
5351,
5354,
5356,
5358,
5360,
5363,
5365,
5367,
5369,
5371,
5374,
5376,
5378,
5380,
5382,
5385,
5387,
5389,
5391,
5393,
5396,
5398,
5400,
5402,
5404,
5407,
5409,
5411,
5413,
5415,
5418,
5420,
5422,
5424,
5426,
5429,
5431,
5433,
5435,
5437,
5440,
5442,
5444,
5446,
5448,
5451,
5453,
5455,
5457,
5459,
5462,
5464,
5466,
5468,
5470,
5473,
5475,
5477,
5479,
5481,
5484,
5486,
5488,
5490,
5492,
5495,
5497,
5499,
5501,
5503,
5506,
5508,
5510,
5512,
5515,
5517,
5519,
5521,
5523,
5526,
5528,
5530,
5532,
5534,
5537,
5539,
5541,
5543,
5545,
5548,
5550,
5552,
5554,
5556,
5559,
5561,
5563,
5565,
5567,
5570,
5572,
5574,
5576,
5578,
5581,
5583,
5585,
5587,
5589,
5592,
5594,
5596,
5598,
5600,
5603,
5605,
5607,
5609,
5611,
5614,
5616,
5618,
5620,
5622,
5625,
5627,
5629,
5631,
5633,
5636,
5638,
5640,
5642,
5644,
5647,
5649,
5651,
5653,
5656,
5658,
5660,
5662,
5664,
5667,
5669,
5671,
5673,
5675,
5678,
5680,
5682,
5684,
5686,
5689,
5691,
5693,
5695,
5697,
5700,
5702,
5704,
5706,
5708,
5711,
5713,
5715,
5717,
5719,
5722,
5724,
5726,
5728,
5730,
5733,
5735,
5737,
5739,
5741,
5744,
5746,
5748,
5750,
5752,
5755,
5757,
5759,
5761,
5763,
5766,
5768,
5770,
5772,
5774,
5777,
5779,
5781,
5783,
5785,
5788,
5790,
5792,
5794,
5796,
5799,
5801,
5803,
5805,
5808,
5810,
5812,
5814,
5816,
5819,
5821,
5823,
5825,
5827,
5830,
5832,
5834,
5836,
5838,
5841,
5843,
5845,
5847,
5849,
5852,
5854,
5856,
5858,
5860,
5863,
5865,
5867,
5869,
5871,
5874,
5876,
5878,
5880,
5882,
5885,
5887,
5889,
5891,
5893,
5896,
5898,
5900,
5902,
5904,
5907,
5909,
5911,
5913,
5915,
5918,
5920,
5922,
5924,
5926,
5929,
5931,
5933,
5935,
5937,
5940,
5942,
5944,
5946,
5949,
5951,
5953,
5955,
5957,
5960,
5962,
5964,
5966,
5968,
5971,
5973,
5975,
5977,
5979,
5982,
5984,
5986,
5988,
5990,
5993,
5995,
5997,
5999,
6001,
]

function bsearch(trigger) {
	let left = 0, right = leapYears.length - 1
	while (left < right) {
		const mid = (left + right) >> 1
		if (trigger(mid))
			right = mid
		else
			left = 1 + mid
	}
	return left
}

const guas = [
	'',"火","祭祀", "对手", "成败", "反叛", "救赎", "爆发",
	"欲望",   "木", "创造", "新生", "凋谢", "重生", "弥散",
	"自我", "寻找", "存在", "经典", "革新", "梦幻", "倾听",
	"忍耐", "腐朽", "绝笔",   "地", "孤独", "小人", "永恒",
	"恶魔", "盛开", "理解", "泥土",   "风", "雾气",   "神",
	"对抗", "绽放", "思考", "同伴", "变幻",   "水", "隐退",
	"超越", "生命", "表达", "破碎", "时间", "朦胧", "自然"]

class SeptimalCalendar extends Calendar {
	name = '七历'
	weekOffset = 0
	weekLength = 7
	yearRange = [1, 5999]
	dayAliases = guas
	isLeapYear(year) {
		return leapYears[bsearch(x => leapYears[x] >= year)] == year
	}
	monthLengths(year) {
		return new Array(this.isLeapYear(year) ? 8 : 7).fill(49)
	}
	monthAliases(year) {
		if (this.isLeapYear(year))
			return ['火契', '木契', '光契', '土契', '风契', '水契', '空契', '闰契']
		else
			return ['火契', '木契', '光契', '土契', '风契', '水契', '空契']
	}
	day(day) {
		day -= 743343
		const targetQi = Math.ceil(day / 49)
		const date = day - (targetQi - 1) * 49
		const pos = bsearch(x => leapYears[x] * 7 + x + 1 >= targetQi)
		const year = leapYears[pos]
		const delta = year * 7 + pos - targetQi
		if (delta < 0)
			return [year, 7, date]
		return [year - Math.floor(delta / 7), 6 - delta % 7, date]
	}
	dayCaptions(start, count) {
		const [year, , date] = this.day(start)
		if (year < this.yearRange[0] || year > this.yearRange[1])
			return
		const guas1 = guas.concat(guas.slice(1))
		return guas1.slice(date, date + count)
	}
	julian(year, month, date) {
		const pos = bsearch(x => leapYears[x] >= year)
		return 743343 + date + ((year - 1) * 7 + pos + month) * 49
	}
}

export default SeptimalCalendar
